<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.11">
  <compounddef id="model_8hpp" kind="file" language="C++">
    <compoundname>model.hpp</compoundname>
    <includes local="no">cereal/cereal.hpp</includes>
    <includes local="no">bsoncxx/oid.hpp</includes>
    <includes refid="collection__wrapper_8hpp" local="no">mangrove/collection_wrapper.hpp</includes>
    <includes refid="mangrove_2config_2prelude_8hpp" local="no">mangrove/config/prelude.hpp</includes>
    <includes refid="util_8hpp" local="no">mangrove/util.hpp</includes>
    <includes local="no">mongocxx/collection.hpp</includes>
    <incdepgraph>
      <node id="297">
        <label>src/mangrove/model.hpp</label>
        <link refid="model.hpp"/>
        <childnode refid="298" relation="include">
        </childnode>
        <childnode refid="299" relation="include">
        </childnode>
        <childnode refid="300" relation="include">
        </childnode>
        <childnode refid="301" relation="include">
        </childnode>
        <childnode refid="344" relation="include">
        </childnode>
        <childnode refid="309" relation="include">
        </childnode>
      </node>
      <node id="309">
        <label>mongocxx/collection.hpp</label>
      </node>
      <node id="301">
        <label>mangrove/config/prelude.hpp</label>
        <link refid="mangrove_2config_2prelude_8hpp_source"/>
        <childnode refid="302" relation="include">
        </childnode>
        <childnode refid="303" relation="include">
        </childnode>
        <childnode refid="304" relation="include">
        </childnode>
        <childnode refid="305" relation="include">
        </childnode>
      </node>
      <node id="323">
        <label>bsoncxx/builder/core.hpp</label>
      </node>
      <node id="308">
        <label>bsoncxx/stdx/optional.hpp</label>
      </node>
      <node id="344">
        <label>mangrove/util.hpp</label>
        <link refid="util_8hpp_source"/>
        <childnode refid="301" relation="include">
        </childnode>
        <childnode refid="317" relation="include">
        </childnode>
        <childnode refid="345" relation="include">
        </childnode>
        <childnode refid="321" relation="include">
        </childnode>
        <childnode refid="346" relation="include">
        </childnode>
        <childnode refid="347" relation="include">
        </childnode>
        <childnode refid="348" relation="include">
        </childnode>
        <childnode refid="308" relation="include">
        </childnode>
        <childnode refid="324" relation="include">
        </childnode>
        <childnode refid="343" relation="include">
        </childnode>
      </node>
      <node id="329">
        <label>cereal/types/list.hpp</label>
      </node>
      <node id="341">
        <label>mangrove/deserializing_cursor.hpp</label>
        <link refid="deserializing__cursor_8hpp_source"/>
        <childnode refid="301" relation="include">
        </childnode>
        <childnode refid="306" relation="include">
        </childnode>
        <childnode refid="307" relation="include">
        </childnode>
        <childnode refid="308" relation="include">
        </childnode>
        <childnode refid="342" relation="include">
        </childnode>
        <childnode refid="310" relation="include">
        </childnode>
        <childnode refid="343" relation="include">
        </childnode>
      </node>
      <node id="314">
        <label>boson/config/export.hpp</label>
      </node>
      <node id="321">
        <label>string</label>
      </node>
      <node id="334">
        <label>boson/bson_streambuf.hpp</label>
        <link refid="bson__streambuf_8hpp_source"/>
        <childnode refid="311" relation="include">
        </childnode>
        <childnode refid="335" relation="include">
        </childnode>
        <childnode refid="336" relation="include">
        </childnode>
        <childnode refid="337" relation="include">
        </childnode>
        <childnode refid="338" relation="include">
        </childnode>
        <childnode refid="339" relation="include">
        </childnode>
        <childnode refid="340" relation="include">
        </childnode>
      </node>
      <node id="311">
        <label>boson/config/prelude.hpp</label>
        <link refid="boson_2config_2prelude_8hpp_source"/>
        <childnode refid="312" relation="include">
        </childnode>
        <childnode refid="313" relation="include">
        </childnode>
        <childnode refid="314" relation="include">
        </childnode>
        <childnode refid="315" relation="include">
        </childnode>
      </node>
      <node id="307">
        <label>bsoncxx/builder/basic/document.hpp</label>
      </node>
      <node id="343">
        <label>mangrove/config/postlude.hpp</label>
        <link refid="mangrove_2config_2postlude_8hpp_source"/>
      </node>
      <node id="336">
        <label>ostream</label>
      </node>
      <node id="316">
        <label>boson/bson_archiver.hpp</label>
        <link refid="bson__archiver_8hpp_source"/>
        <childnode refid="317" relation="include">
        </childnode>
        <childnode refid="318" relation="include">
        </childnode>
        <childnode refid="319" relation="include">
        </childnode>
        <childnode refid="320" relation="include">
        </childnode>
        <childnode refid="321" relation="include">
        </childnode>
        <childnode refid="322" relation="include">
        </childnode>
        <childnode refid="298" relation="include">
        </childnode>
        <childnode refid="323" relation="include">
        </childnode>
        <childnode refid="324" relation="include">
        </childnode>
        <childnode refid="325" relation="include">
        </childnode>
        <childnode refid="326" relation="include">
        </childnode>
        <childnode refid="327" relation="include">
        </childnode>
        <childnode refid="328" relation="include">
        </childnode>
        <childnode refid="329" relation="include">
        </childnode>
        <childnode refid="330" relation="include">
        </childnode>
        <childnode refid="331" relation="include">
        </childnode>
        <childnode refid="332" relation="include">
        </childnode>
        <childnode refid="333" relation="include">
        </childnode>
      </node>
      <node id="342">
        <label>mongocxx/cursor.hpp</label>
      </node>
      <node id="315">
        <label>boson/config/version.hpp</label>
      </node>
      <node id="327">
        <label>cereal/types/deque.hpp</label>
      </node>
      <node id="338">
        <label>bsoncxx/builder/stream/document.hpp</label>
      </node>
      <node id="326">
        <label>boson/stdx/optional.hpp</label>
        <link refid="optional_8hpp_source"/>
        <childnode refid="308" relation="include">
        </childnode>
      </node>
      <node id="330">
        <label>cereal/types/set.hpp</label>
      </node>
      <node id="325">
        <label>bsoncxx/types/value.hpp</label>
      </node>
      <node id="304">
        <label>mangrove/config/export.hpp</label>
      </node>
      <node id="310">
        <label>boson/mapping_functions.hpp</label>
        <link refid="mapping__functions_8hpp_source"/>
        <childnode refid="311" relation="include">
        </childnode>
        <childnode refid="306" relation="include">
        </childnode>
        <childnode refid="307" relation="include">
        </childnode>
        <childnode refid="308" relation="include">
        </childnode>
        <childnode refid="316" relation="include">
        </childnode>
        <childnode refid="334" relation="include">
        </childnode>
        <childnode refid="340" relation="include">
        </childnode>
      </node>
      <node id="346">
        <label>tuple</label>
      </node>
      <node id="345">
        <label>ctime</label>
      </node>
      <node id="322">
        <label>vector</label>
      </node>
      <node id="320">
        <label>stack</label>
      </node>
      <node id="324">
        <label>bsoncxx/types.hpp</label>
      </node>
      <node id="337">
        <label>streambuf</label>
      </node>
      <node id="331">
        <label>cereal/types/unordered_set.hpp</label>
      </node>
      <node id="332">
        <label>cereal/types/valarray.hpp</label>
      </node>
      <node id="348">
        <label>utility</label>
      </node>
      <node id="319">
        <label>sstream</label>
      </node>
      <node id="298">
        <label>cereal/cereal.hpp</label>
      </node>
      <node id="300">
        <label>mangrove/collection_wrapper.hpp</label>
        <link refid="collection__wrapper_8hpp_source"/>
        <childnode refid="301" relation="include">
        </childnode>
        <childnode refid="306" relation="include">
        </childnode>
        <childnode refid="307" relation="include">
        </childnode>
        <childnode refid="308" relation="include">
        </childnode>
        <childnode refid="309" relation="include">
        </childnode>
        <childnode refid="310" relation="include">
        </childnode>
        <childnode refid="341" relation="include">
        </childnode>
        <childnode refid="343" relation="include">
        </childnode>
      </node>
      <node id="312">
        <label>boson/config/compiler.hpp</label>
        <link refid="boson_2config_2compiler_8hpp_source"/>
      </node>
      <node id="306">
        <label>iostream</label>
      </node>
      <node id="328">
        <label>cereal/types/forward_list.hpp</label>
      </node>
      <node id="317">
        <label>chrono</label>
      </node>
      <node id="313">
        <label>boson/config/config.hpp</label>
      </node>
      <node id="302">
        <label>mangrove/config/compiler.hpp</label>
        <link refid="mangrove_2config_2compiler_8hpp_source"/>
      </node>
      <node id="303">
        <label>mangrove/config/config.hpp</label>
      </node>
      <node id="347">
        <label>type_traits</label>
      </node>
      <node id="339">
        <label>bsoncxx/json.hpp</label>
      </node>
      <node id="305">
        <label>mangrove/config/version.hpp</label>
      </node>
      <node id="299">
        <label>bsoncxx/oid.hpp</label>
      </node>
      <node id="333">
        <label>cereal/types/vector.hpp</label>
      </node>
      <node id="318">
        <label>memory</label>
      </node>
      <node id="335">
        <label>istream</label>
      </node>
      <node id="340">
        <label>boson/config/postlude.hpp</label>
        <link refid="boson_2config_2postlude_8hpp_source"/>
      </node>
    </incdepgraph>
    <innerclass refid="classmangrove_1_1model" prot="public">mangrove::model</innerclass>
    <innernamespace refid="namespacemangrove">mangrove</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">//<sp/>Copyright<sp/>2016<sp/>MongoDB<sp/>Inc.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Licensed<sp/>under<sp/>the<sp/>Apache<sp/>License,<sp/>Version<sp/>2.0<sp/>(the<sp/>&quot;License&quot;);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="comment">//<sp/>you<sp/>may<sp/>not<sp/>use<sp/>this<sp/>file<sp/>except<sp/>in<sp/>compliance<sp/>with<sp/>the<sp/>License.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="comment">//<sp/>You<sp/>may<sp/>obtain<sp/>a<sp/>copy<sp/>of<sp/>the<sp/>License<sp/>at</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="comment">//<sp/>http://www.apache.org/licenses/LICENSE-2.0</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Unless<sp/>required<sp/>by<sp/>applicable<sp/>law<sp/>or<sp/>agreed<sp/>to<sp/>in<sp/>writing,<sp/>software</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="comment">//<sp/>distributed<sp/>under<sp/>the<sp/>License<sp/>is<sp/>distributed<sp/>on<sp/>an<sp/>&quot;AS<sp/>IS&quot;<sp/>BASIS,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="comment">//<sp/>WITHOUT<sp/>WARRANTIES<sp/>OR<sp/>CONDITIONS<sp/>OF<sp/>ANY<sp/>KIND,<sp/>either<sp/>express<sp/>or<sp/>implied.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="comment">//<sp/>See<sp/>the<sp/>License<sp/>for<sp/>the<sp/>specific<sp/>language<sp/>governing<sp/>permissions<sp/>and</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="comment">//<sp/>limitations<sp/>under<sp/>the<sp/>License.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight><highlight class="preprocessor">#pragma<sp/>once</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;cereal/cereal.hpp&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;bsoncxx/oid.hpp&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;mangrove/collection_wrapper.hpp&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;mangrove/config/prelude.hpp&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;mangrove/util.hpp&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;mongocxx/collection.hpp&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight><highlight class="keyword">namespace<sp/></highlight><highlight class="normal"><ref refid="namespacemangrove" kindref="compound">mangrove</ref><sp/>{</highlight></codeline>
<codeline lineno="26"><highlight class="normal">MANGROVE_INLINE_NAMESPACE_BEGIN</highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight><highlight class="keyword">template</highlight><highlight class="normal"><sp/>&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>T,<sp/></highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>IdType<sp/>=<sp/>bsoncxx::o</highlight><highlight class="keywordtype">id</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline lineno="29" refid="classmangrove_1_1model" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classmangrove_1_1model" kindref="compound">model</ref><sp/>{</highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight><highlight class="comment">//<sp/>TODO:<sp/>When<sp/>XCode<sp/>8<sp/>is<sp/>released,<sp/>this<sp/>can<sp/>always<sp/>be<sp/>thread_local.<sp/>Until<sp/>then,<sp/>the<sp/>model<sp/>class</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/>will<sp/>not<sp/>be<sp/>thread-safe<sp/>on<sp/>OS<sp/>X.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>__APPLE__</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="classmangrove_1_1collection__wrapper" kindref="compound">collection_wrapper&lt;T&gt;</ref><sp/>_coll;</highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>thread_local<sp/><ref refid="classmangrove_1_1collection__wrapper" kindref="compound">collection_wrapper&lt;T&gt;</ref><sp/>_coll;</highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">template</highlight><highlight class="normal"><sp/>&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal">...<sp/>Ts,</highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>=<sp/>std::enable_if_t&lt;!<ref refid="structmangrove_1_1first__two__types__are__same" kindref="compound">first_two_types_are_same</ref>&lt;<ref refid="classmangrove_1_1model" kindref="compound">model</ref>,<sp/>Ts...&gt;::value&gt;&gt;</highlight></codeline>
<codeline lineno="51" refid="classmangrove_1_1model_1aad4ed1da2c483620d05c93cdc506e356" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classmangrove_1_1model_1aad4ed1da2c483620d05c93cdc506e356" kindref="member">model</ref>(Ts&amp;&amp;...<sp/>ts)<sp/>:<sp/>_id(std::forward&lt;Ts&gt;(ts)...)<sp/>{</highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="53"><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/>model()<sp/>=<sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="55"><highlight class="normal"></highlight></codeline>
<codeline lineno="71" refid="classmangrove_1_1model_1a4dac6424aa52c96fc184926f00570836" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>std::int64_t<sp/><ref refid="classmangrove_1_1model_1a4dac6424aa52c96fc184926f00570836" kindref="member">count</ref>(</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bsoncxx::document::view_or_value<sp/>filter<sp/>=<sp/>bsoncxx::document::view_or_value{},</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>mongocxx::options::count&amp;<sp/>options<sp/>=<sp/>mongocxx::options::count())<sp/>{</highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>_coll.collection().count(filter,<sp/>options);</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="76"><highlight class="normal"></highlight></codeline>
<codeline lineno="83" refid="classmangrove_1_1model_1a0d52a9bedf4808ef8cc98f02a9e9083b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>mongocxx::collection<sp/><ref refid="classmangrove_1_1model_1a0d52a9bedf4808ef8cc98f02a9e9083b" kindref="member">collection</ref>()<sp/>{</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>_coll.collection();</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="86"><highlight class="normal"></highlight></codeline>
<codeline lineno="100" refid="classmangrove_1_1model_1ada372a128865c770d7b2334990ad6f5f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>mongocxx::stdx::optional&lt;mongocxx::result::delete_result&gt;<sp/><ref refid="classmangrove_1_1model_1ada372a128865c770d7b2334990ad6f5f" kindref="member">delete_many</ref>(</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bsoncxx::document::view_or_value<sp/>filter,</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>mongocxx::options::delete_options&amp;<sp/>options<sp/>=<sp/>mongocxx::options::delete_options())<sp/>{</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>_coll.collection().delete_many(filter,<sp/>options);</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="105"><highlight class="normal"></highlight></codeline>
<codeline lineno="119" refid="classmangrove_1_1model_1a18e41c79c88891dcfaea88e3cc6df09c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>mongocxx::stdx::optional&lt;mongocxx::result::delete_result&gt;<sp/><ref refid="classmangrove_1_1model_1a18e41c79c88891dcfaea88e3cc6df09c" kindref="member">delete_one</ref>(</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bsoncxx::document::view_or_value<sp/>filter,</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>mongocxx::options::delete_options&amp;<sp/>options<sp/>=<sp/>mongocxx::options::delete_options())<sp/>{</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>_coll.collection().delete_one(filter,<sp/>options);</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="124"><highlight class="normal"></highlight></codeline>
<codeline lineno="132" refid="classmangrove_1_1model_1a14472adea853a46b9e76aef6cb2cd246" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classmangrove_1_1model_1a14472adea853a46b9e76aef6cb2cd246" kindref="member">drop</ref>()<sp/>{</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_coll.collection().drop();</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="135"><highlight class="normal"></highlight></codeline>
<codeline lineno="151" refid="classmangrove_1_1model_1aa0be0e6204d17a62797f3384cbb5a6b1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="classmangrove_1_1deserializing__cursor" kindref="compound">deserializing_cursor&lt;T&gt;</ref><sp/><ref refid="classmangrove_1_1model_1aa0be0e6204d17a62797f3384cbb5a6b1" kindref="member">find</ref>(</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bsoncxx::document::view_or_value<sp/>filter,</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>mongocxx::options::find&amp;<sp/>options<sp/>=<sp/>mongocxx::options::find())<sp/>{</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>_coll.find(std::move(filter),<sp/>options);</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="156"><highlight class="normal"></highlight></codeline>
<codeline lineno="170" refid="classmangrove_1_1model_1a36488dcf05af9a7426bdebb40fbbd8d4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>mongocxx::stdx::optional&lt;T&gt;<sp/><ref refid="classmangrove_1_1model_1a36488dcf05af9a7426bdebb40fbbd8d4" kindref="member">find_one</ref>(</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bsoncxx::document::view_or_value<sp/>filter,</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>mongocxx::options::find&amp;<sp/>options<sp/>=<sp/>mongocxx::options::find())<sp/>{</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>_coll.find_one(std::move(filter),<sp/>options);</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="175"><highlight class="normal"></highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">template</highlight><highlight class="normal"><sp/>&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>container_type,</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>=<sp/>std::enable_if_t&lt;container_of_v&lt;container_type,<sp/>T&gt;&gt;&gt;</highlight></codeline>
<codeline lineno="198" refid="classmangrove_1_1model_1a7250891868c6bab48f1cd741f8164b46" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>mongocxx::stdx::optional&lt;mongocxx::result::insert_many&gt;<sp/><ref refid="classmangrove_1_1model_1a7250891868c6bab48f1cd741f8164b46" kindref="member">insert_many</ref>(</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>container_type&amp;<sp/>container,</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>mongocxx::options::insert&amp;<sp/>options<sp/>=<sp/>mongocxx::options::insert())<sp/>{</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classmangrove_1_1model_1a7250891868c6bab48f1cd741f8164b46" kindref="member">insert_many</ref>(container.begin(),<sp/>container.end(),<sp/>options);</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="203"><highlight class="normal"></highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">template</highlight><highlight class="normal"><sp/>&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>object_iterator_type,</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>=<sp/>std::enable_if_t&lt;iterator_of_v&lt;object_iterator_type,<sp/>T&gt;&gt;&gt;</highlight></codeline>
<codeline lineno="230" refid="classmangrove_1_1model_1a14db2af5bc4d46898e2a643797bff060" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>mongocxx::stdx::optional&lt;mongocxx::result::insert_many&gt;<sp/><ref refid="classmangrove_1_1model_1a14db2af5bc4d46898e2a643797bff060" kindref="member">insert_many</ref>(</highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>object_iterator_type<sp/>begin,<sp/>object_iterator_type<sp/>end,</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>mongocxx::options::insert&amp;<sp/>options<sp/>=<sp/>mongocxx::options::insert())<sp/>{</highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>_coll.insert_many(begin,<sp/>end,<sp/>options);</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="235"><highlight class="normal"></highlight></codeline>
<codeline lineno="249" refid="classmangrove_1_1model_1ad9695cdffd6a1abcd62d791caa6943e8" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>mongocxx::stdx::optional&lt;mongocxx::result::insert_one&gt;<sp/><ref refid="classmangrove_1_1model_1ad9695cdffd6a1abcd62d791caa6943e8" kindref="member">insert_one</ref>(</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>T<sp/>obj,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>mongocxx::options::insert&amp;<sp/>options<sp/>=<sp/>mongocxx::options::insert())<sp/>{</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>_coll.insert_one(obj,<sp/>options);</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="253"><highlight class="normal"></highlight></codeline>
<codeline lineno="262" refid="classmangrove_1_1model_1a1502c90fc3a7c9664a2578efb63e0371" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">remove</highlight><highlight class="normal">()<sp/>{</highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>id_match_filter<sp/>=<sp/>bsoncxx::builder::stream::document{}</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;_id&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>this-&gt;_id<sp/>&lt;&lt;<sp/>bsoncxx::builder::stream::finalize;</highlight></codeline>
<codeline lineno="265"><highlight class="normal"></highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_coll.collection().delete_one(id_match_filter.view());</highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="268"><highlight class="normal"></highlight></codeline>
<codeline lineno="281" refid="classmangrove_1_1model_1aa292dacb7aa8fc25c9f0fa758e5419fd" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classmangrove_1_1model_1aa292dacb7aa8fc25c9f0fa758e5419fd" kindref="member">setCollection</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>mongocxx::collection&amp;<sp/>coll)<sp/>{</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_coll<sp/>=<sp/><ref refid="classmangrove_1_1collection__wrapper" kindref="compound">collection_wrapper&lt;T&gt;</ref>(coll);</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classmangrove_1_1model_1aa292dacb7aa8fc25c9f0fa758e5419fd" kindref="member">setCollection</ref>(mongocxx::collection&amp;&amp;<sp/>coll)<sp/>{</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_coll<sp/>=<sp/><ref refid="classmangrove_1_1collection__wrapper" kindref="compound">collection_wrapper&lt;T&gt;</ref>(std::move(coll));</highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="287"><highlight class="normal"></highlight></codeline>
<codeline lineno="299" refid="classmangrove_1_1model_1a0dd3802e09d149f4bfa8661b7992c177" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classmangrove_1_1model_1a0dd3802e09d149f4bfa8661b7992c177" kindref="member">save</ref>()<sp/>{</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>id_match_filter<sp/>=<sp/>bsoncxx::builder::stream::document{}</highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;_id&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>this-&gt;_id<sp/>&lt;&lt;<sp/>bsoncxx::builder::stream::finalize;</highlight></codeline>
<codeline lineno="302"><highlight class="normal"></highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>update<sp/>=<sp/>bsoncxx::builder::stream::document{}</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;$set&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>boson::to_dotted_notation_document(*static_cast&lt;T*&gt;(</highlight><highlight class="keyword">this</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&lt;&lt;<sp/>bsoncxx::builder::stream::finalize;</highlight></codeline>
<codeline lineno="306"><highlight class="normal"></highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mongocxx::options::update<sp/>opts{};</highlight></codeline>
<codeline lineno="308"><highlight class="normal"></highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>opts.upsert(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="310"><highlight class="normal"></highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_coll.collection().update_one(id_match_filter.view(),<sp/>update.view(),<sp/>opts);</highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="313"><highlight class="normal"></highlight></codeline>
<codeline lineno="329" refid="classmangrove_1_1model_1ab811a568d41f8721b679d5e509bf9072" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>mongocxx::stdx::optional&lt;mongocxx::result::update&gt;<sp/><ref refid="classmangrove_1_1model_1ab811a568d41f8721b679d5e509bf9072" kindref="member">update_many</ref>(</highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bsoncxx::document::view_or_value<sp/>filter,<sp/>bsoncxx::document::view_or_value<sp/>update,</highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>mongocxx::options::update&amp;<sp/>options<sp/>=<sp/>mongocxx::options::update())<sp/>{</highlight></codeline>
<codeline lineno="332"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>_coll.collection().update_many(filter,<sp/>update,<sp/>options);</highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="334"><highlight class="normal"></highlight></codeline>
<codeline lineno="350" refid="classmangrove_1_1model_1ab0d60c7d8c2285e90456547f40b9f873" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>mongocxx::stdx::optional&lt;mongocxx::result::update&gt;<sp/><ref refid="classmangrove_1_1model_1ab0d60c7d8c2285e90456547f40b9f873" kindref="member">update_one</ref>(</highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bsoncxx::document::view_or_value<sp/>filter,<sp/>bsoncxx::document::view_or_value<sp/>update,</highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>mongocxx::options::update&amp;<sp/>options<sp/>=<sp/>mongocxx::options::update())<sp/>{</highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>_coll.collection().update_many(filter,<sp/>update,<sp/>options);</highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="355"><highlight class="normal"></highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keyword">protected</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><sp/><sp/>IdType<sp/>_id;</highlight></codeline>
<codeline lineno="358"><highlight class="normal">};</highlight></codeline>
<codeline lineno="359"><highlight class="normal"></highlight></codeline>
<codeline lineno="360"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>__APPLE__</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="361"><highlight class="normal"></highlight><highlight class="keyword">template</highlight><highlight class="normal"><sp/>&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>T,<sp/></highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>IdType&gt;</highlight></codeline>
<codeline lineno="362"><highlight class="normal"><ref refid="classmangrove_1_1collection__wrapper" kindref="compound">collection_wrapper&lt;T&gt;</ref><sp/><ref refid="classmangrove_1_1model" kindref="compound">model&lt;T, IdType&gt;::_coll</ref>;</highlight></codeline>
<codeline lineno="363"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="364"><highlight class="normal"></highlight><highlight class="keyword">template</highlight><highlight class="normal"><sp/>&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>T,<sp/></highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>IdType&gt;</highlight></codeline>
<codeline lineno="365"><highlight class="normal">thread_local<sp/><ref refid="classmangrove_1_1collection__wrapper" kindref="compound">collection_wrapper&lt;T&gt;</ref><sp/>model&lt;T,<sp/>IdType&gt;::_coll;</highlight></codeline>
<codeline lineno="366"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="367"><highlight class="normal"></highlight></codeline>
<codeline lineno="368"><highlight class="normal">MANGROVE_INLINE_NAMESPACE_END</highlight></codeline>
<codeline lineno="369"><highlight class="normal">}<sp/><sp/></highlight><highlight class="comment">//<sp/>namespace<sp/>mangrove</highlight><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="src/mangrove/model.hpp"/>
  </compounddef>
</doxygen>
